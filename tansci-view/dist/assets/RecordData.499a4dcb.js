import{_ as w}from"./Table.f892a77f.js";import{l as V,r as x,t as R,o as z,B as O,a as c,b as T,c as j,d as a,w as d,e as n,f as U,g as i,s as h,C as B,D as S}from"./index.9aa92fa8.js";const L={class:"record_data"},N=h("\u5BFC\u51FA"),E=h("\u67E5\u8BE2"),$={data(){return{searchForm:{docId:"",property:""}}},watch:{$route:"gettingData"},created(){this.gettingData()},methods:{gettingData(){var m=this.$route.query.docId;this.searchForm.docId=m,this.searchForm.property="en"}}},K=Object.assign($,{__name:"RecordData",setup(m){V(null);const e=x({searchForm:{docId:"",property:""},loading:!1,page:{current:1,size:10,total:1},tableTitle:[{prop:"id",label:"ID"},{prop:"docId",label:"\u6587\u6863ID"},{prop:"subtitle",label:"\u5185\u5BB9"},{prop:"timestamp",label:"\u521B\u5EFA\u65F6\u95F4"}],tableData:[],taskVisible:!1,taskTitle:"\u521B\u5EFA\u91C7\u96C6\u4EFB\u52A1",taskForm:{domain:"",docId:"",reamrk:""}}),{searchForm:H,loading:_,page:g,tableHeight:P,tableTitle:b,tableData:f,taskVisible:q,taskTitle:A,taskForm:M}=R(e);z(()=>{r()});const r=()=>{e.loading=!0,O(Object.assign(e.page,e.searchForm)).then(t=>{e.loading=!1,e.tableData=t.result.records,e.page.current=t.result.current,e.page.size=t.result.size,e.page.total=t.result.total})},y=()=>{e.loading=!0,B(Object.assign(e.searchForm)).then(t=>{if(!t.data)return;let l=window.URL.createObjectURL(new Blob([t.data])),o=document.createElement("a");o.style.display="none",o.href=l;let p="data_"+S(new Date)+"_"+e.searchForm.property+".txt";o.setAttribute("download",p),document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(l),document.body.removeChild(o)})},F=t=>{e.page.size=t,r()},v=t=>{e.page.current=t,r()},k=()=>{e.searchForm={name:null},r()},C=()=>{r()};return(t,l)=>{const o=c("el-button"),p=c("el-input"),s=c("el-option"),D=c("el-select"),I=c("el-card");return T(),j("div",L,[a(I,null,{default:d(()=>[n("p",null,"\u6D4B\u8BD5this.searchForm.docId=========="+U(this.searchForm.docId),1),a(w,{data:i(f),column:i(b),operation:!1,page:i(g),loading:i(_),onOnSizeChange:F,onOnCurrentChange:v},{search:d(()=>[n("div",null,[a(o,{type:"primary",onClick:y},{default:d(()=>[N]),_:1})]),n("div",null,[a(p,{modelValue:this.searchForm.docId,"onUpdate:modelValue":l[0]||(l[0]=u=>this.searchForm.docId=u),type:"hidden"},null,8,["modelValue"])]),n("div",null,[a(D,{modelValue:this.searchForm.property,"onUpdate:modelValue":l[1]||(l[1]=u=>this.searchForm.property=u),placeholder:"\u8BF7\u9009\u62E9\u8BED\u8A00\u7C7B\u578B",style:{width:"70%"}},{default:d(()=>[a(s,{label:"\u82F1\u8BED",value:"en"}),a(s,{label:"\u4E2D\u6587",value:"zh-Hans"}),a(s,{label:"\u5FB7\u8BED",value:"de"}),a(s,{label:"\u6CD5\u8BED",value:"fr"}),a(s,{label:"\u65E5\u8BED",value:"ja"})]),_:1},8,["modelValue"])]),n("div",null,[a(o,{onClick:k,icon:"RefreshRight",circle:""})]),n("div",null,[a(o,{onClick:C,type:"primary",icon:"Search"},{default:d(()=>[E]),_:1})])]),_:1},8,["data","column","page","loading"])]),_:1})])}}});export{K as default};
