import{_ as F}from"./Table.231e28f6.js";import{C as R,m as x,r as z,t as T,o as O,D as U,a as i,b as j,c as S,d as a,w as u,e as r,f as B,g as l,v as g,G as L,H as N}from"./index.155e7f5c.js";const E={class:"record_data"},H=g("\u5BFC\u51FA"),q=g("\u67E5\u8BE2"),Q={__name:"RecordData",setup(P){const _=R();console.log(_.query.docId),x(null);const e=z({searchForm:{docId:_.query.docId,property:"en"},loading:!1,page:{current:1,size:10,total:1},tableTitle:[{prop:"id",label:"ID"},{prop:"docId",label:"\u6587\u6863ID"},{prop:"subtitle",label:"\u5185\u5BB9"},{prop:"timestamp",label:"\u521B\u5EFA\u65F6\u95F4"}],tableData:[],taskVisible:!1,taskTitle:"\u521B\u5EFA\u91C7\u96C6\u4EFB\u52A1",taskForm:{domain:"",docId:"",reamrk:""}}),{searchForm:s,loading:b,page:h,tableHeight:A,tableTitle:f,tableData:y,taskVisible:G,taskTitle:M,taskForm:$}=T(e);O(()=>{c()});const c=()=>{e.loading=!0,U(Object.assign(e.page,e.searchForm)).then(t=>{e.loading=!1,e.tableData=t.result.records,e.page.current=t.result.current,e.page.size=t.result.size,e.page.total=t.result.total})},v=()=>{e.loading=!0,L(Object.assign(e.searchForm)).then(t=>{if(!t.data)return;let n=window.URL.createObjectURL(new Blob([t.data])),o=document.createElement("a");o.style.display="none",o.href=n;let p="data_"+N(new Date)+"_"+e.searchForm.property+".txt";o.setAttribute("download",p),document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(n),document.body.removeChild(o)})},k=t=>{e.page.size=t,c()},C=t=>{e.page.current=t,c()},I=()=>{e.searchForm={name:null},c()},V=()=>{c()};return(t,n)=>{const o=i("el-button"),p=i("el-input"),d=i("el-option"),w=i("el-select"),D=i("el-card");return j(),S("div",E,[a(D,null,{default:u(()=>[r("p",null,"\u6D4B\u8BD5searchForm.docId=========="+B(l(s).docId),1),a(F,{data:l(y),column:l(f),operation:!1,page:l(h),loading:l(b),onOnSizeChange:k,onOnCurrentChange:C},{search:u(()=>[r("div",null,[a(o,{type:"primary",onClick:v},{default:u(()=>[H]),_:1})]),r("div",null,[a(p,{modelValue:l(s).docId,"onUpdate:modelValue":n[0]||(n[0]=m=>l(s).docId=m),type:"hidden"},null,8,["modelValue"])]),r("div",null,[a(w,{modelValue:l(s).property,"onUpdate:modelValue":n[1]||(n[1]=m=>l(s).property=m),placeholder:"\u8BF7\u9009\u62E9\u8BED\u8A00\u7C7B\u578B",style:{width:"70%"}},{default:u(()=>[a(d,{label:"\u82F1\u8BED",value:"en"}),a(d,{label:"\u4E2D\u6587",value:"zh-Hans"}),a(d,{label:"\u5FB7\u8BED",value:"de"}),a(d,{label:"\u6CD5\u8BED",value:"fr"}),a(d,{label:"\u65E5\u8BED",value:"ja"})]),_:1},8,["modelValue"])]),r("div",null,[a(o,{onClick:I,icon:"RefreshRight",circle:""})]),r("div",null,[a(o,{onClick:V,type:"primary",icon:"Search"},{default:u(()=>[q]),_:1})])]),_:1},8,["data","column","page","loading"])]),_:1})])}}};export{Q as default};
