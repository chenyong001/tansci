import{_ as V}from"./Table.02bea6cc.js";import{l as x,r as R,t as z,o as O,B as T,a as i,b as j,c as U,d as a,w as p,e as r,f as B,g as l,s as g,C as S,D as L}from"./index.2f725967.js";const N={class:"record_data"},E=g("\u5BFC\u51FA"),$=g("\u67E5\u8BE2"),H={data(){return{docId:""}},watch:{$route:"gettingData"},created(){this.gettingData()},methods:{gettingData(){var _=this.$route.query.docId;this.searchForm.docId=_,this.searchForm.property="en"}}},K=Object.assign(H,{__name:"RecordData",setup(_){x(null);const e=R({searchForm:{docId:"",property:""},loading:!1,page:{current:1,size:10,total:1},tableTitle:[{prop:"id",label:"ID"},{prop:"docId",label:"\u6587\u6863ID"},{prop:"subtitle",label:"\u5185\u5BB9"},{prop:"timestamp",label:"\u521B\u5EFA\u65F6\u95F4"}],tableData:[],taskVisible:!1,taskTitle:"\u521B\u5EFA\u91C7\u96C6\u4EFB\u52A1",taskForm:{domain:"",docId:"",reamrk:""}}),{searchForm:s,loading:h,page:b,tableHeight:P,tableTitle:f,tableData:y,taskVisible:q,taskTitle:A,taskForm:M}=z(e);O(()=>{d()});const d=()=>{e.loading=!0,T(Object.assign(e.page,e.searchForm)).then(t=>{e.loading=!1,e.tableData=t.result.records,e.page.current=t.result.current,e.page.size=t.result.size,e.page.total=t.result.total})},v=()=>{e.loading=!0,S(Object.assign(e.searchForm)).then(t=>{if(!t.data)return;let n=window.URL.createObjectURL(new Blob([t.data])),o=document.createElement("a");o.style.display="none",o.href=n;let u="data_"+L(new Date)+"_"+e.searchForm.property+".txt";o.setAttribute("download",u),document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(n),document.body.removeChild(o)})},k=t=>{e.page.size=t,d()},C=t=>{e.page.current=t,d()},D=()=>{e.searchForm={name:null},d()},I=()=>{d()};return(t,n)=>{const o=i("el-button"),u=i("el-input"),c=i("el-option"),w=i("el-select"),F=i("el-card");return j(),U("div",N,[a(F,null,{default:p(()=>[r("p",null,"\u6D4B\u8BD5docid=========="+B(l(s).docId),1),a(V,{data:l(y),column:l(f),operation:!1,page:l(b),loading:l(h),onOnSizeChange:k,onOnCurrentChange:C},{search:p(()=>[r("div",null,[a(o,{type:"primary",onClick:v},{default:p(()=>[E]),_:1})]),r("div",null,[a(u,{modelValue:l(s).docId,"onUpdate:modelValue":n[0]||(n[0]=m=>l(s).docId=m),type:"hidden"},null,8,["modelValue"])]),r("div",null,[a(w,{modelValue:l(s).property,"onUpdate:modelValue":n[1]||(n[1]=m=>l(s).property=m),placeholder:"\u8BF7\u9009\u62E9\u8BED\u8A00\u7C7B\u578B",style:{width:"70%"}},{default:p(()=>[a(c,{label:"\u82F1\u8BED",value:"en"}),a(c,{label:"\u4E2D\u6587",value:"zh-Hans"}),a(c,{label:"\u5FB7\u8BED",value:"de"}),a(c,{label:"\u6CD5\u8BED",value:"fr"}),a(c,{label:"\u65E5\u8BED",value:"ja"})]),_:1},8,["modelValue"])]),r("div",null,[a(o,{onClick:D,icon:"RefreshRight",circle:""})]),r("div",null,[a(o,{onClick:I,type:"primary",icon:"Search"},{default:p(()=>[$]),_:1})])]),_:1},8,["data","column","page","loading"])]),_:1})])}}});export{K as default};
